Review Comments:

Prerequisites - Black Duck Security Scan

The prerequisites for installing the Black Duck Security Scan are found here. Please ensure all requirements in each section are completed before proceeding with the installation.
Table of Contents

GitHub Organization Requirements
GitHub Actions Configuration
GitHub Secrets and Variables Setup
Branch Protection Configuration
Repository Access Permissions
GitHub Organization Requirements

Organization Permissions
You must possess Owner or Admin permissions in your GitHub organization to install the app.
To verify your permissions:
Navigate to your GitHub organization.
Go to Settings → Member privileges.
Confirm that your role is listed as Owner or Admin.
Orgainzation Setup
Ensure your organization has:
At least one repository where security scans will be conducted.
GitHub Actions enabled at the organization level.
GitHub Actions Configuration

The configuration for the Black Duck Security Scan GitHub Actions is available and includes the following key steps:

Enable Actions at the Organization Level

Navigate to Organization Settings → Actions → General.
Under Actions permissions, select:
Allow all actions and reusable workflows
Allow select actions and reusable workflows (if you want to restrict to specific actions):
Allow actions created by GitHub
Allow actions by Marketplace verified creators
For custom actions related to Black Duck Security Scan, if you want to restrict to specific actions, add the following to your allowed actions list:



blackduck-inc/black-duck-security-scan@*
Enable Actions at the Repository Level

For each repository where scans will be executed:
Navigate to Repository Settings → Actions → General.
Select Allow all actions and reusable workflows or configure specific permissions matching your organization settings.
GitHub Secrets and Variables Setup

Organization Level Configuration (Recommended)
To manage secrets across multiple repositories:
Navigate to Organization Settings → Secrets and variables → Actions.
Create a Variables tab for non-sensitive configuration values.
Create a Secrets tab for authentication tokens.
Repository Level Configuration
For private repositories (or specific repository needs):
Navigate to Repository Settings → Secrets and variables → Actions.
Configure the Variables and Secrets tabs as required for the specific repository.
Configure GitHub Token

If you want to use advance features like SARIF upload, Fix PR and PR comment, Black Duck Security Scan Action needs github_token to be passed in the workflow file.You can either use Personal Access Token (PAT) or GitHub built-in Token, secrets.GITHUB_TOKEN.
Personal Access Token (PAT)  setup:
To enable enhanced features, create a Personal Access Token:
Navigate to Profile Settings → Developer settings → Personal access tokens.
Click Generate new token → Fine-grained personal access token.
Select the following scopes:
repo (full repository access)
API (API access)
Copy the generated token for use in your secrets configuration as GH_TOKEN. By default the workflow will use github_token: secrets.GH_TOKEN.
If you are using any custom name for the secret ex. CUSTOM_TOKEN, make sure to edit the workflow file accoridngly as github_token: secrets.CUSTOM_TOKEN
For more information, see Granting Additional Permissions.
For using GitHub built-in Token, secrets.GITHUB_TOKEN:
If you have read-write permissions to the GitHub built-in Token, secrets.GITHUB_TOKEN, you can use that token and you don't need to create one. To configure permissions navigate to (GitHub → Project → Settings → Actions → General → Workflow Permissions). The token will be automatically created by GitHub at the start of each workflow run.
In this case you need to edit the workflow file to use github_token: secrets.GITHUB_TOKEN
Branch Protection Configuration

Check Branch Protection Rules

Ensure that repositories allow workflow commits to the target branch:
Navigate to Repository Settings → Branches
Review the Branch protection rules for your default branch (main/master)
Check if any rules restrict commits or require reviews
For repositories with branch protection rules enabled:
A pull request will be raised during the onboarding process
Please review and approve the pull request to enable the scan workflow and complete onboarding
Learn more about GitHub Branch Protection: For detailed information about configuring branch protection rules, visit: GitHub Branch Protection Documentation
Repository Access Permissions

Required App Permissions

The Black Duck Security Scan will request the following permissions during installation:
Permissions Configuration:
Repository Permissions:
Contents: Read and Write
Workflows: Read and Write
Pull Requests: Read and Write
Organization Permissions:
Members: Read-Only
Next Steps

Once all prerequisites are satisfied, proceed with the installation process as outlined in the User Guide.
